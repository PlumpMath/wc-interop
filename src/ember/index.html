<!doctype html>
<html>
	<head>
		<meta charset="utf8">
		<title>Ember</title>
		<link rel="stylesheet" href="../css/style.css">
		<script src="../lib/webcomponents.js"></script>
		<script src="../bower/jquery/dist/jquery.js"></script>
		<script src="../bower/handlebars/handlebars.runtime.js"></script>
		<script src="../bower/ember/ember-template-compiler.js"></script>
		<script src="../bower/ember/ember.debug.js"></script>
		<script src="js/main.js" defer></script>
	</head>
	<body>
		<h1>Ember</h1>
		<script type="text/x-handlebars">
			<p>Create using custom element embedded in the template: <random-square></random-square> <random-square width="50" height="25"></random-square></p>
			<!--NOTWORKING custom elements specified in a variable if printed with HTML escaping (obvs)-->
			<p>Using the element in a variable (value set in main.js) {{randomSquare}} (won't work because of HTML escaping)</p>
			<p>Same but without escaping {{{randomSquare}}} {{{randomSquareWithAttributes}}}</p>
			<p>Bind attributes to the controller (and also update them based on an slider) {{input type="range" value=squareWidth step="1" min="1" max="200" }} <random-square {{bind-attr width=squareWidth}}></random-square></p>
			<p>Using a custom element in an Ember component {{random-square}} {{bell-button}}
			<!--NOTWORKING Ember elements get wrapped on a div class="ember-view" unless you change that to something else by defining the class in code and setting its tagName (see main.js and `BellButtonComponent` which uses a `span`) -->
			</p>
			<p>
				<!--NOTWORKING binding attribute to an ember component. weird, and why?-->
				Or just the square without wrapping tag: {{just-square width=squareWidth}}
			</p>
			<!--NOTWORKING for some odd and obscure reason there's a duplicate empty transparent canvas inside these components-->
			<p>x{{random-square}}x</p>
			<p>x{{random-square}}x</p>
			<random-square></random-square>
		</script>

		<script type="text/x-handlebars" id="components/random-square">
			<random-square></random-square>
		</script>

		<script type="text/x-handlebars" id="components/just-square">
		</script>

		<script type="text/x-handlebars" id="components/bell-button">
			<!-- NOTWORKING: using the is= method to define elements when inside an ember component. Wrong prototype set in the button-->
			<button is="bell-button"></button>
		</script>

		<!--<script type="text/x-handlebars" data-template-name="wcinterop">
			!bam! {{variable}}
		</script>-->
	</body>
</html>
